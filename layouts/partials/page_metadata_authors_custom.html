<<!--
{{/* Display author list. */}}

{{- $taxonomy := "authors" }}
{{ if .Param $taxonomy }}
  {{ range $index, $value := (.GetTerms $taxonomy) }}
    {{- /* Highlight the author's name? */ -}}
    {{- $highlight_name := .Page.Params.highlight_name | default false -}}

    {{- if gt $index 0 }}, {{ end -}}
    <span {{ if $highlight_name }}class="font-bold"{{end}}>
      {{/* Effectively check the page's `_build` option as `_build` is not exposed in Hugo's Page object. */}}
      {{- if .RelPermalink -}}
        <a href="{{.RelPermalink}}">{{.LinkTitle}}</a>
      {{- else -}}
        {{ .LinkTitle }}
      {{- end -}}
    </span>
    {{- if isset $.Params "author_notes" -}}
      {{- with (index $.Params.author_notes $index) -}}
        <i class="author-notes fas fa-info-circle" data-toggle="tooltip" title="{{.}}"></i>
      {{- end -}}
    {{- end -}}
  {{- end -}}
{{- end -}}

-->


{{/* Display author list. */}}
{{- $taxonomy := "authors" }}
{{ if .Param $taxonomy }}
  <!-- Debug: Start of author list -->
  {{ range $index, $value := (.GetTerms $taxonomy) }}
    {{- if gt $index 0 }}, {{ end -}}
    <!-- Debug: Author {{ $index }} -->
    <span {{ if .Page.Params.highlight_name }}class="font-bold"{{end}}>
      {{- if .RelPermalink -}}
        <a href="{{.RelPermalink}}">{{ .LinkTitle }}</a>
      {{- else -}}
        {{ .LinkTitle }}
      {{- end -}}
    </span>
    {{- if isset $.Params "author_notes" -}}
      {{- $note := index $.Params.author_notes $index -}}
      {{- if and $note (lt $index (len $.Params.author_notes)) -}}
        <sup>{{ $note | htmlEscape }}</sup>
      {{- else -}}
        <!-- Debug: No valid note for index {{ $index }} -->
      {{- end -}}
    {{- end -}}
  {{ end }}
  <!-- Debug: End of author list -->
{{ end }}
